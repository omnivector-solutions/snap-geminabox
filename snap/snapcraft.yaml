name: geminabox
version: '0.1' # just for humans, typically '1.2+git' or '1.3.2'
summary: Geminabox
description: |
  Geminabox

grade: devel # must be 'stable' to release into candidate/stable channels
confinement: devmode # use 'strict' once you have the right plugs and slots

apps:
  geminabox:
    daemon: simple
    command: wrappers/geminabox
    plugs: [network,network-bind]
parts:
  geminabox:
    after: [wrappers]
    plugin: ruby
    ruby-version: "2.3.1"
    gems: [geminabox]
    stage:
      - bin
      - lib
      - config.ru
    prime:
      - bin
      - lib
      - config.ru
    install: |
      cp ./templates/config.ru $SNAPCRAFT_PART_INSTALL/config.ru
  wrappers:
    plugin: dump
    source: snap/
